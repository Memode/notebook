{"version":3,"sources":["components/datagrid/datagrid.js","static/images/empty-icon.svg"],"names":["__webpack_require__","_antd","_reactRedux","_staffReducer","_react2","default","createElement","alt","src","emptyIcon","Datagrid","connect","state","employeese","staffReducer","staffData","object","selectedStaffList","togglePersonal","selectedStaff","React","Component","np","_this","this","emptyStyle","height","concat","props","tscale","display","alignItems","justifyContent","empty","style","_ref","rowSelection","selectedRowKeys","length","map","ss","key","onChange","selectRowKeys","selectRows","onSelect","record","selected","selectedRows","onSelectAll","isSlectedAll","changeRows","Table","calSelect","columns","tableHead","onRow","onClick","ap","filter","e","userId","onMouseEnter","size","tableSize","title","customHeader","locale","emptyText","pagination","rowClassName","className","dataSource","sourceData","scroll","y","module","exports","p"],"mappings":"kJAAA,QAAAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,IACAG,EAAAH,EAAA,+2BAEAA,EAAA,WAuBgBI,EAAAC,QAAAC,cAAA,WACIF,EAAAC,QAAAC,cAAA,OAAKC,IAAI,GAAGC,IAAKC,YACjBL,EAAAC,QAAAC,cAAA,sCAfdI,GATL,EAAAR,EAAAS,SACG,SAAAC,GACI,MAAM,CACFC,WAAWD,EAAME,aAAaC,UAAUC,OACxCC,kBAAkBL,EAAME,aAAaG,oBAG7C,CAACC,gCAAeC,icAEGC,UAAMC,mEACCC,qCAGlB,IAAAC,EAAAC,KACEC,EAAW,CACbC,OAAM,GAAAC,OAAsB,GAAlBH,KAAKI,MAAMC,OAAf,MACNC,QAAQ,OACRC,WAAW,SACXC,eAAe,UAEbC,EACF7B,EAAAC,QAAAC,cAAA,OAAK4B,MAAOT,GAAZU,GAOEC,EAAa,CAEfC,gBAAgBb,KAAKI,MAAMX,kBAAkBqB,OAAO,EAAEd,KAAKI,MAAMX,kBAAkBsB,IAAI,SAAAC,GACnF,OAAOA,EAAGC,MACX,GACHC,SAAS,SAACC,EAAcC,KAIxBC,SAAS,SAACC,EAAOC,EAASC,GACtBzB,EAAKK,MAAMT,cAAc6B,IAE7BC,YAAY,SAACC,EAAaF,EAAaG,GACnC5B,EAAKK,MAAMT,cAAc6B,KAGjC,OAAO5C,EAAAC,QAAAC,cAACL,EAAAmD,MAAD,CAAOhB,aAAcZ,KAAKI,MAAMyB,UAAUjB,EAAa,KAAMkB,QAAS9B,KAAKI,MAAM2B,UACpFC,MAAO,SAACV,GACJ,MAAO,CACLW,QAAS,WACL,IAAIC,EAAGnC,EAAKK,MAAMf,WAAW8C,OAAO,SAAAC,GAChC,OAAOA,EAAEC,SAASf,EAAOL,MAG7BlB,EAAKK,MAAMV,eAAewC,EAAG,KAEjCI,aAAc,eAGpBC,KAAMvC,KAAKI,MAAMoC,UAAUxC,KAAKI,MAAMoC,UAAU,UAChDC,MAAOzC,KAAKI,MAAMsC,aAAa1C,KAAKI,MAAMsC,aAAa,KACvDC,OAAQ,CAACC,UAAWnC,GACpBoC,YAAY,EAAOC,aAAa,iBAAiBC,UAAU,cAC3DC,WAAYhD,KAAKI,MAAM6C,WAAYC,OAAQ,CAAEC,EAAC,GAAAhD,OAAuB,GAAlBH,KAAKI,MAAMC,OAAhB,4DAI3CnB,uBCvEfkE,EAAAC,QAAiB7E,EAAA8E,EAAuB","file":"static/js/18.390d4746.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Table} from 'antd'\r\nimport {connect} from 'react-redux'\r\nimport {togglePersonal,selectedStaff} from 'store/staffReducer'\r\nimport emptyIcon from 'static/images/empty-icon.svg'\r\nimport './datagrid.scss'\r\n@connect(\r\n    state=>{\r\n        return{\r\n            employeese:state.staffReducer.staffData.object,\r\n            selectedStaffList:state.staffReducer.selectedStaffList\r\n        }\r\n    },\r\n    {togglePersonal,selectedStaff}\r\n)\r\nclass Datagrid extends React.Component{\r\n    componentWillReceiveProps(np){\r\n        //console.log(np)\r\n    }\r\n    render(){\r\n        const emptyStyle={\r\n            height:`${this.props.tscale*70}vh`,\r\n            display:'flex',\r\n            alignItems:'center',\r\n            justifyContent:'center'\r\n        }\r\n        const empty=(\r\n            <div style={emptyStyle}>\r\n                <div>\r\n                    <img alt='' src={emptyIcon}/>\r\n                    <p>暂无数据</p>\r\n                </div>\r\n            </div>\r\n        )\r\n        const rowSelection={\r\n            //操作选中状态\r\n            selectedRowKeys:this.props.selectedStaffList.length>0?this.props.selectedStaffList.map(ss=>{\r\n                return ss.key\r\n            }):[],\r\n            onChange:(selectRowKeys,selectRows)=>{\r\n                //console.log(`selectRowKeys:${selectRowKeys}`,\"selectRows:\"+selectRows)\r\n            },\r\n            //record当前选中的行,selected是否选中,selectedRows所有被选中的数据\r\n            onSelect:(record,selected,selectedRows)=>{\r\n                this.props.selectedStaff(selectedRows)\r\n            },\r\n            onSelectAll:(isSlectedAll,selectedRows,changeRows)=>{\r\n                this.props.selectedStaff(selectedRows)\r\n            }\r\n        }\r\n        return(<Table rowSelection={this.props.calSelect?rowSelection:null} columns={this.props.tableHead} \r\n            onRow={(record) => {\r\n                return {\r\n                  onClick: () => {\r\n                      let ap=this.props.employeese.filter(e=>{\r\n                          return e.userId===record.key\r\n                      })\r\n                      //查看员工详情，插入当前选中的员工记录\r\n                      this.props.togglePersonal(ap[0])\r\n                  },\r\n                  onMouseEnter: () => {}\r\n                }\r\n            }}\r\n            size={this.props.tableSize?this.props.tableSize:'default'}\r\n            title={this.props.customHeader?this.props.customHeader:null}\r\n            locale={{emptyText: empty }} \r\n            pagination={false} rowClassName='table-row-name' className='column-name' \r\n            dataSource={this.props.sourceData} scroll={{ y: `${this.props.tscale*70}vh` }}></Table>)\r\n    }\r\n}\r\n\r\nexport default Datagrid","module.exports = __webpack_public_path__ + \"static/media/empty-icon.1e6b2481.svg\";"],"sourceRoot":""}
{"version":3,"sources":["components/modals/ddmodal.js"],"names":["__webpack_require__","_antd","_reactRedux","_employeeModalReducer","_deptReducer","CDModal","connect","state","_objectSpread","deptReducer","loginUser","userReducer","toggleModalState","getDeptList","props","_this","_classCallCheck","this","_getPrototypeOf","call","deptname","handleOk","bind","_assertThisInitialized","handleCancel","React","Component","deleteDept","currentDept","departmentId","deptId","_this2","http","delete","then","res","status","Modal","success","title","centered","content","type","userRole","_react2","default","createElement","width","visible","onCancel","footer","Button","key","onClick","name"],"mappings":"kJACA,QAAAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,QACAA,EAAA,KACAG,EAAAH,EAAA,KACAI,EAAAJ,EAAA,05BAUMK,GATL,EAAAH,EAAAI,SACG,SAAAC,GACI,0UAAAC,CAAA,GACOD,EAAME,YADb,CAEIC,UAAUH,EAAMI,eAGxB,CAACC,oCAAiBC,0CAGlB,SAAAR,EAAYS,GAAM,IAAAC,MAAA,mGAAAC,CAAAC,KAAAZ,KACdY,MAAAF,MAAAG,EAAAb,GAAAc,KAAAF,KAAMH,oDACDP,MAAM,CACPa,SAAS,IAEbL,EAAKM,SAASN,EAAKM,SAASC,KAAdC,IAAAR,KACdA,EAAKS,aAAaT,EAAKS,aAAaF,KAAlBC,IAAAR,KANJA,yPADAU,UAAMC,oDAUpBT,KAAKU,WAAWV,KAAKH,MAAMc,YAAYC,iDAEhCC,GAAO,IAAAC,EAAAd,KACde,UAAKC,OAAO,0BAA0B,CAACH,IAASI,KAAK,SAAAC,GAC9CA,GAAoB,MAAbA,EAAIC,SACVC,QAAMC,QAAQ,CACVC,MAAO,2BACPC,UAAS,EACTC,QAAS,mCAEbV,EAAKjB,MAAMF,iBAAiB,WAAU,GACtCmB,EAAKjB,MAAMD,YAAY,CAAC6B,KAAKX,EAAKjB,MAAMJ,UAAUiC,qDAK3D1B,KAAKH,MAAMF,iBAAiB,WAAU,oCAGrC,OACIgC,EAAAC,QAAAC,cAAC7C,EAAAoC,MAAD,CACIU,MAAO,IACPC,SAAS,EACTT,MAAM,2BAAOC,UAAQ,EACrBS,SAAUhC,KAAKO,aACf0B,OAAQ,CACJN,EAAAC,QAAAC,cAAC7C,EAAAkD,OAAD,CAAQC,IAAI,IAAKC,QAASpC,KAAKO,cAA/B,gBACAoB,EAAAC,QAAAC,cAAC7C,EAAAkD,OAAD,CAASC,IAAI,IAAIV,KAAK,UAAWW,QAASpC,KAAKI,UAA/C,kBAPR,mDAUaJ,KAAKH,MAAMc,YAAY0B,KAVpC,oEAgBGjD","file":"static/js/11.d2a082de.chunk.js","sourcesContent":["//删除部门\r\nimport React from 'react'\r\nimport {Modal,Button} from 'antd'\r\nimport {connect} from 'react-redux'\r\nimport http from 'libs/http'\r\nimport {toggleModalState} from 'store/employeeModalReducer'\r\nimport {getDeptList} from 'store/deptReducer'\r\n@connect(\r\n    state=>{\r\n        return{\r\n            ...state.deptReducer,\r\n            loginUser:state.userReducer\r\n        }\r\n    },\r\n    {toggleModalState,getDeptList}\r\n)\r\nclass CDModal extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            deptname:''\r\n        }\r\n        this.handleOk=this.handleOk.bind(this)\r\n        this.handleCancel=this.handleCancel.bind(this)\r\n    }\r\n    handleOk(){\r\n        this.deleteDept(this.props.currentDept.departmentId)\r\n    }\r\n    deleteDept(deptId){\r\n        http.delete('enterprise/depts/delete',[deptId]).then(res=>{\r\n            if(res && res.status===200){\r\n                Modal.success({\r\n                    title: '系统提示',\r\n                    centered:true,\r\n                    content: '删除成功！',\r\n                })\r\n                this.props.toggleModalState('DEFAULT',false)\r\n                this.props.getDeptList({type:this.props.loginUser.userRole})\r\n            }\r\n        })\r\n    }\r\n    handleCancel(){\r\n       this.props.toggleModalState('DEFAULT',false)\r\n    }\r\n    render(){\r\n        return (\r\n            <Modal\r\n                width={300}\r\n                visible={true}\r\n                title=\"删除部门\" centered\r\n                onCancel={this.handleCancel}\r\n                footer={[\r\n                    <Button key='1'  onClick={this.handleCancel}>取消</Button>,\r\n                    <Button  key='2' type=\"primary\"  onClick={this.handleOk}>确认</Button>,\r\n                ]}\r\n                >\r\n                确定要删除部门“{this.props.currentDept.name}”吗?\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CDModal"],"sourceRoot":""}
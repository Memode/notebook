(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{110:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.employeeModalReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:case m:case l:case u:case i:case c:case f:case y:case E:case s:case d:case p:case h:case v:case b:return r({},e,t.payload);default:return e}},t.toggleModalState=function(e,t){switch(e){case"CREATE_DEPT":return{type:a,payload:{createDeptModalVisible:t}};case"UPDATE_DEPT_NAME":return{type:m,payload:{updateDeptNameModalVisible:t}};case"SET_DEPT":return{type:f,payload:{setDeptModalVisible:t}};case"STAFF_DETAIL":return{type:E,payload:{staffDetailModalVisible:t}};case"SELECT_ROLE":return{type:y,payload:{selectRoleModalVisible:t}};case"SET_DEPT_DIR":return{type:l,payload:{setDeptDirModalVisible:t}};case"SET_DEPT_MANAGER":return{type:u,payload:{setDeptManagerModalVisible:t}};case"SET_BUS_MANAGER":return{type:i,payload:{setBusManagerModalVisible:t}};case"REMOVE_DEPT_MANAGER":return{type:c,payload:{removeDeptManagerModalVisible:t}};case"DELETE_DEPT":return{type:s,payload:{deleteDeptModalVisible:t}};case"ADD_STAFF":return{type:d,payload:{addStaffModalVisible:t}};case"DEL_STAFF":return{type:p,payload:{delStaffModalVisible:t}};case"TRANSFER_B_RIGHT":return{type:h,payload:{transferBRightModalVisible:t}};case"TRANSFER_D_RIGHT":return{type:v,payload:{transferDRightModalVisible:t}};case"DEFAULT":return{type:b,payload:g};default:return g}};var a="CREATE_DEPT_MODAL_VISIBALE",l="SET_DEPT_DIR_MODAL_VISIBALE",u="SET_DEPT_MANAGER_MODAL_VISIBALE",i="SET_BUS_MANAGER_MODAL_VISIBALE",c="REMOVE_DEPT_MANAGER_MODAL_VISIBALE",s="DELETE_DEPT_MODAL_VISIBALE",f="SET_DEPT_MODAL_VISIBALE",d="ADD_STAFF_MODAL_VISIBALE",p="DEL_STAFF_MODAL_VISIBALE",y="SELECT_ROLE_MODAL_VISIBALE",m="UPDATE_DEPT_NAME_MODAL_VISIBALE",E="STAFF_DETAIL",v="TRANSFER_D_RIGHT_MODAL_VISIBALE",h="TRANSFER_B_RIGHT_MODAL_VISIBALE",b="DEFAULT_MODAL_VISIBALE",g={updateDeptNameModalVisible:!1,staffDetailModalVisible:!1,selectRoleModalVisible:!1,createDeptModalVisible:!1,setDeptManagerModalVisible:!1,setDeptDirModalVisible:!1,setBusManagerModalVisible:!1,removeDeptManagerModalVisible:!1,deleteDeptModalVisible:!1,setDeptModalVisible:!1,addStaffModalVisible:!1,delStaffModalVisible:!1,transferDRightModalVisible:!1,transferBRightModalVisible:!1}},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:case s:return u({},e,t.payload);default:return e}},t.selectRole=function(e){var t=a.default.get("loginUser");return t.userRole=e,a.default.set("loginUser",t),{type:s,payload:{userRole:e}}},t.fetchUserData=function(){return function(e){if(a.default.get("loginUser")){var t=a.default.get("loginUser");e(d(t))}else r.default.get("enterprise/employees/getCurrentAccountInfo").then(function(t){if(t&&200===t.status){var n=t.data;n.avatar=(0,o.getAvatar)(n.cloudUserId),a.default.set("loginUser",n),e(d(n))}})}};var r=l(n(84)),o=n(85),a=l(n(52));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="FETCH_USER_DATA",s="USER_ROLE",f={alias:"",avatar:"",cloudUserId:void 0,enterpriseName:"",userRole:""};function d(e){return{type:c,payload:e}}},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(52),a=(r=o)&&r.__esModule?r:{default:r};var l={HOST:a.default.get("host"),BASE_URL:"".concat(a.default.get("host"),"/ecm/api/v2/")};t.default=l},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staffReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return l({},e,{staffData:t.payload});case c:return l({},e,{mEmployee:t.payload});case d:return l({},e,{enterpriseTotal:t.payload});case s:case f:return l({},e,t.payload);default:return e}},t.selectedStaff=function(e){return{type:s,payload:{selectedStaffList:e}}},t.togglePersonal=function(e){return e?{type:f,payload:{activePerson:e}}:{type:f,payload:{activePerson:null}}},t.getStaffList=function(e){var t={isAllocation:"",page:1,limit:30,searchName:"",deptId:0},n=e?Object.assign(t,e):t;return function(e){a.default.get("enterprise/getEmployees",n).then(function(t){var r,o;t&&200===t.status&&(e((o=t.data,{type:i,payload:o})),""===n.isAllocation&&""===n.searchName&&0===n.deptId&&e((r=t.data.total,{type:d,payload:r})))})}},t.getMEL=function(e){var t={isAllocation:"",page:1,limit:30,searchName:"",deptId:0},n=e?Object.assign(t,e):t;return function(e){a.default.get("enterprise/getEmployees",n).then(function(t){var n;t&&200===t.status&&e((n=t.data,{type:c,payload:n}))})}};var r,o=n(84),a=(r=o)&&r.__esModule?r:{default:r};function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="STAFF_DATA",c="M_EMPLOYEE",s="SELECTED_STAFF_LIST",f="ACTIVE_PERSONAL",d="ENTERPRISE_TOTAL",p={staffData:[],selectedStaffList:[],activePerson:null,mEmployee:null,enterpriseTotal:0}},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deptReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return u({},e,{deptList:t.payload});case s:return u({},e,t.payload);default:return e}},t.setCurrentDept=function(e){return{type:s,payload:{currentDept:e}}},t.getDeptList=function(e){return function(t){r.default.get("enterprise/getDepartments",e).then(function(e){var n;e&&200===e.status&&(t((n=e.data,{type:c,payload:n})),e.data&&0===e.data.length&&"department"===o.default.get("loginUser").userRole&&(0,a.authTimeout)())})}};var r=l(n(84)),o=l(n(52)),a=n(85);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="DEPT_DATA",s="CURRENT_DEPT",f={deptList:null,currentDept:null}},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capaReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:case c:case s:case f:case d:case p:case y:case m:return l({},e,t.payload);default:return e}},t.toggleCapaModalState=function(e,t){switch(e){case"UPDATE_LIBS_CAPA":return{type:i,payload:{updateLibsCapaModalShow:t}};case"UPDATE_DEPT_CAPA":return{type:c,payload:{updateDeptCapaModalShow:t}};case"SET_EVERY_CAPA":return{type:s,payload:{setEveryCapaModalShow:t}};case"SET_EMP_CAPA":return{type:f,payload:{setEmpCapaModalShow:t}};case"SET_ONE_CAPA":return{type:d,payload:{setOneCapaModalShow:t}};case"DEFAULT":return{type:p,payload:E};default:return E}},t.selectDeptfn=function(e){return{type:m,payload:{selectedDept:e}}},t.searchAll=function(){return function(e){a.default.get("enterprise/spaceQu/searchAll",null).then(function(t){var n;e((n=t.data,{type:y,payload:{sumaryCapacity:n}}))})}};var r,o=n(84),a=(r=o)&&r.__esModule?r:{default:r};function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i="UPDATE_LIBS_CAPA_MODAL_SHOW",c="UPDATE_DEPT_CAPA_MODAL_SHOW",s="SET_EVERY_CAPA_MODAL_SHOW",f="SET_EMP_CAPA_MODAL_SHOW",d="SET_ONE_CAPA_MODAL_SHOW",p="DEFAULT_MODAL_VISIBALE",y="GET_AUMARY_CAPACITY",m="SELECTED_DEPT",E={updateLibsCapaModalShow:!1,updateDeptCapaModalShow:!1,setEveryCapaModalShow:!1,setEmpCapaModalShow:!1,setOneCapaModalShow:!1,selectedDept:null,sumaryCapacity:null}},268:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=y(n(1)),a=n(109),l=y(n(52));n(616);var u=n(83),i=n(86),c=y(n(618)),s=y(n(619)),f=y(n(620)),d=n(85),p=y(n(114));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=o.default.createElement("span",{className:"avatar"}),_=o.default.createElement("img",{src:f.default,className:"mr6",alt:""}),O=o.default.createElement("img",{src:c.default,className:"mr6 vm",alt:""}),S=o.default.createElement("img",{src:s.default,className:"mr6",alt:""}),A=o.default.createElement("span",{className:"avatar"}),M=o.default.createElement(a.Icon,{type:"up",className:"ml6"}),R=o.default.createElement(a.Icon,{type:"down",className:"ml6"}),T=(0,u.connect)(function(e){return{loginUser:e.userReducer}})(r=(0,i.withRouter)(r=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=v(t).call(this))||"object"!==m(r)&&"function"!==typeof r?b(n):r).state={mouseEnter:!1},e.logout=e.logout.bind(b(b(e))),e.backhome=e.backhome.bind(b(b(e))),e.toggleRole=e.toggleRole.bind(b(b(e))),e.headerMouseEnter=e.headerMouseEnter.bind(b(b(e))),e.headerMouseLeave=e.headerMouseLeave.bind(b(b(e))),e}var n,r,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,o.default.Component),n=t,(r=[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"toggleRole",value:function(e){var t=l.default.get("loginUser");t.userRole=e,l.default.set("loginUser",t),window.location.reload()}},{key:"logout",value:function(){a.Modal.confirm({title:"\u786e\u5b9a\u8981\u9000\u51fa\u767b\u5f55\u5417?",content:"\u9000\u51fa\u4e4b\u540e\u8fd4\u56de\u5b98\u7f51\u9996\u9875",centered:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){(0,d.authTimeout)()},onCancel:function(){}})}},{key:"backhome",value:function(){a.Modal.confirm({title:"\u786e\u5b9a\u8981\u8fd4\u56de\u4f01\u4e1a\u7f51\u76d8\u5417?",content:"\u8fd4\u56de\u4f01\u4e1a\u7f51\u76d8",centered:!0,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){window.location.href="".concat(p.default.HOST,"/enterprise/?pageLayoutType=topNavigation")},onCancel:function(){}})}},{key:"headerMouseEnter",value:function(){this.setState({mouseEnter:!0})}},{key:"headerMouseLeave",value:function(){this.setState({mouseEnter:!1})}},{key:"render",value:function(){var e,t,n=this,r=this.props.loginUser;r.roleNameList&&r.roleNameList.length>0&&(e=r.roleNameList.some(function(e){return"DEPT_DIRECTOR"===e.roleName}),t=r.roleNameList.some(function(e){return"ENTERPRISE_MANAGER"===e.roleName}));var l=o.default.createElement("div",{className:"cu-pop"},o.default.createElement("div",{className:"avatar-name-title"},r.avatar?o.default.createElement(a.Avatar,{src:r.avatar}):g,o.default.createElement("div",{className:"name-title"},o.default.createElement("div",{className:"name"},r.name||"\u672a\u767b\u5f55"),o.default.createElement("div",{className:"title"},"\u5f53\u524d\u8eab\u4efd\uff1a","enterprise"===r.userRole?"\u4f01\u4e1a\u7ba1\u7406\u5458":"\u90e8\u95e8\u7ba1\u7406\u5458"))),o.default.createElement("div",{onClick:this.backhome,className:"oper cp"},_,"\u56de\u5230\u4f01\u4e1a\u7f51\u76d8"),e&&t?o.default.createElement("div",{onClick:function(){return n.toggleRole("enterprise"===r.userRole?"department":"enterprise")},className:"oper cp"},O,"\u5207\u6362\u4e3a","enterprise"===r.userRole?"\u90e8\u95e8\u540e\u53f0\u7ba1\u7406":"\u4f01\u4e1a\u540e\u53f0\u7ba1\u7406"):null,o.default.createElement("div",{onClick:this.logout,className:"oper cp"},S,"\u9000\u51fa\u767b\u5f55"));return o.default.createElement("div",null,o.default.createElement("div",{className:"header-container"},o.default.createElement("div",{className:"company"},r.enterpriseName||"\u5458\u5de5\u7ba1\u7406\u7cfb\u7edf"),o.default.createElement("div",{className:"avatar-name cp"},o.default.createElement(a.Popover,{content:l},r.avatar?o.default.createElement(a.Avatar,{src:r.avatar}):A,o.default.createElement("span",{onMouseEnter:this.headerMouseEnter,onMouseLeave:this.headerMouseLeave,className:"name"},r.name||"\u672a\u767b\u5f55",this.state.mouseEnter?M:R)))))}}])&&E(n.prototype,r),u&&E(n,u),t}())||r)||r;t.default=T},270:function(e,t,n){e.exports=n(271)},271:function(e,t,n){"use strict";var r=p(n(1)),o=p(n(9)),a=n(86),l=p(n(267));n(279);var u=n(106),i=p(n(284)),c=n(83),s=p(n(286)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(614)),d=p(n(615));function p(e){return e&&e.__esModule?e:{default:e}}var y=(0,l.default)({loader:function(){return n.e(6).then(n.t.bind(null,622,7))},loading:function(){return null}}),m=(0,u.createStore)(s.default,(0,u.applyMiddleware)(i.default));o.default.render(r.default.createElement(c.Provider,{store:m},r.default.createElement(a.HashRouter,null,r.default.createElement("div",null,r.default.createElement(d.default,null),r.default.createElement(a.Switch,null,r.default.createElement(a.Route,{path:"/manage",component:y}))))),document.getElementById("root")),f.unregister()},279:function(e,t,n){},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106),o=n(111),a=n(265),l=n(264),u=n(266),i=n(110);t.default=(0,r.combineReducers)({userReducer:o.userReducer,deptReducer:a.deptReducer,staffReducer:l.staffReducer,employeeModalReducer:i.employeeModalReducer,capaReducer:u.capaReducer})},306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=c(r),a=n(307),l=c(n(9)),u=(n(109),c(n(600)));n(611);var i=c(n(613));function c(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v={alertStatus:!1,alertTip:"\u63d0\u793a",closeAlert:function(){}},h=o.default.createElement("div",{className:"loading-icon",size:"large"},o.default.createElement("img",{src:i.default,alt:""})),b=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=y(this,(e=m(t)).call.apply(e,[this].concat(a)))).state=f({},v),n.FirstChild=function(e){return o.default.Children.toArray(e.children)[0]||null},n.confirm=function(){n.setState({alertStatus:!1}),n.state.closeAlert()},n.open=function(e){(e=e||{}).alertStatus=!0,n.setState(f({},v,e))},n}var n,l,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.Component),n=t,(l=[{key:"close",value:function(){this.state.closeAlert(),this.setState(f({},v))}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.is)((0,a.fromJS)(this.props),(0,a.fromJS)(e))||!(0,a.is)((0,a.fromJS)(this.state),(0,a.fromJS)(t))}},{key:"render",value:function(){return o.default.createElement(u.default,{component:this.FirstChild,transitionName:"hide",transitionEnterTimeout:300,transitionLeaveTimeout:300},o.default.createElement("div",{className:"alert-con",style:this.state.alertStatus?{display:"block"}:{display:"none"}},o.default.createElement("div",{className:"alert-context"},h,o.default.createElement("div",{className:"alert-content-detail"},this.state.alertTip))))}}])&&p(n.prototype,l),i&&p(n,i),t}(),g=document.createElement("div");document.body.appendChild(g);var _=l.default.render(o.default.createElement(b,{}),g);t.default=_},611:function(e,t,n){},613:function(e,t,n){e.exports=n.p+"static/media/loading-icon.47febb4d.svg"},614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){var t=new URL(".",window.location.href);if(t.origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");r?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):o(t,e)})}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}},615:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=f(n(1)),a=n(83),l=n(111),u=n(86),i=(f(n(52)),f(n(268))),c=n(110),s=f(n(621));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=o.default.createElement(i.default,null),h=o.default.createElement(s.default,null),b=(0,a.connect)(function(e){return{loginUser:e.userReducer,employeeModalState:e.employeeModalReducer}},{fetchUserData:l.fetchUserData,selectRole:l.selectRole,toggleModalState:c.toggleModalState})(r=(0,u.withRouter)(r=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=y(this,m(t).call(this))).state={roleState:"",setRoleBool:!0},e}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,o.default.Component),n=t,(r=[{key:"componentWillMount",value:function(){""===this.props.loginUser.alias&&this.props.fetchUserData(),""!==this.props.loginUser.userRole&&this.props.history.push("/manage")}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=e;if(""===t.loginUser.userRole&&""===n.loginUser.userRole&&this.state.setRoleBool)if(this.setState({setRoleBool:!1}),n.loginUser.roleNameList.length>1)t.toggleModalState("SELECT_ROLE",!0);else{var r="ENTERPRISE_MANAGER"===n.loginUser.roleNameList[0].roleName?"enterprise":"department";this.setState({roleState:r}),t.selectRole(r)}else""===t.loginUser.userRole&&""!==n.loginUser.userRole&&(""!==n.loginUser.userRole&&n.history.push("/manage"),this.setState({roleState:n.loginUser.userRole}))}},{key:"render",value:function(){return o.default.createElement("div",null,""===this.state.roleState?v:null,this.props.employeeModalState.selectRoleModalVisible?h:null)}}])&&p(n.prototype,r),a&&p(n,a),t}())||r)||r;t.default=b},616:function(e,t,n){},618:function(e,t,n){e.exports=n.p+"static/media/toggle-icon.c277a17f.svg"},619:function(e,t,n){e.exports=n.p+"static/media/logout-icon.0037e77d.svg"},620:function(e,t,n){e.exports=n.p+"static/media/home-icon.1a1da85a.svg"},621:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),l=(o=a)&&o.__esModule?o:{default:o},u=n(109),i=n(83),c=n(86),s=n(111),f=n(110);function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=l.default.createElement(u.Radio,{value:"ENTERPRISE_MANAGER"},"\u4f01\u4e1a\u540e\u53f0\u7ba1\u7406"),h=l.default.createElement(u.Radio,{value:"DEPT_DIRECTOR"},"\u90e8\u95e8\u540e\u53f0\u7ba1\u7406"),b=(0,i.connect)(function(e){return{loginUser:e.userReducer}},{toggleModalState:f.toggleModalState,selectRole:s.selectRole})(r=(0,c.withRouter)(r=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=y(t).call(this,e))||"object"!==d(o)&&"function"!==typeof o?E(r):o).state={role:""},n.handleOk=n.handleOk.bind(E(E(n))),n.handleCancel=n.handleCancel.bind(E(E(n))),n.onChange=n.onChange.bind(E(E(n))),n}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,l.default.Component),n=t,(r=[{key:"handleOk",value:function(){this.props.selectRole(this.state.role),this.props.history.push("/manage"),this.props.toggleModalState("DEFAULT",!1)}},{key:"onChange",value:function(e){this.setState({role:"ENTERPRISE_MANAGER"===e.target.value?"enterprise":"department"})}},{key:"handleCancel",value:function(){window.history.back(),this.props.toggleModalState("DEFAULT",!1)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t;return this.props.loginUser.roleNameList.length>0&&(e=this.props.loginUser.roleNameList.some(function(e){return"DEPT_DIRECTOR"===e.roleName}),t=this.props.loginUser.roleNameList.some(function(e){return"ENTERPRISE_MANAGER"===e.roleName})),l.default.createElement(u.Modal,{width:300,visible:!0,title:"\u8bf7\u9009\u62e9\u8eab\u4efd\u8fdb\u5165",centered:!0,onCancel:this.handleCancel,footer:[l.default.createElement(u.Button,{key:"1",onClick:this.handleCancel},"\u53d6\u6d88"),l.default.createElement(u.Button,{key:"2",type:"primary",onClick:this.handleOk},"\u786e\u8ba4")]},l.default.createElement(u.Radio.Group,{onChange:this.onChange},this.props.loginUser.roleNameList.length>0?l.default.createElement("div",null,t?l.default.createElement("div",{style:{padding:"10px"}},v):null,e?l.default.createElement("div",{style:{padding:"10px"}},h):null):null))}}])&&p(n.prototype,r),o&&p(n,o),t}())||r)||r;t.default=b},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.param=c;var r=i(n(287)),o=i(n(114)),a=i(n(52)),l=n(85),u=i(n(306));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t="";for(var n in e){var r=void 0!==e[n]?e[n]:"";t+="&".concat(n,"=").concat(encodeURIComponent(r))}return t?t.substring(1):""}r.default.defaults.baseURL=o.default.BASE_URL,r.default.defaults.withCredentials=!0,r.default.defaults.crossDomain=!0,r.default.defaults.headers["Content-Type"]="application/json",r.default.defaults.timeout=15e3,r.default.interceptors.request.use(function(e){return e.headers.Authorization=a.default.get("token"),u.default.open({alertTip:"\u52a0\u8f7d\u4e2d...",closeAlert:function(){}}),e}),r.default.interceptors.response.use(function(e){return u.default.close(),e},function(e){console.log(e),console.log(e.response),401===e.response.status?(0,l.authTimeout)():400===e.response.status&&u.default.close()}),t.default={get:function(e,t){return t&&(e+=(e.indexOf("?")<0?"?":"&")+c(t)),r.default.get(e,null).then(function(e){return e})},delete:function(e,t){return t&&t.length>0&&(e+=function(e){for(var t="",n=0;n<e.length;n++)t+="/".concat(e[n]);return t}(t)),r.default.delete(e).then(function(e){return e})},post:function(e,t){return r.default.post(e,JSON.stringify(t)).then(function(e){return e})},put:function(e,t){return r.default.put(e,JSON.stringify(t)).then(function(e){return e})}}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paginationTotal=function(e,t){return r.default.createElement("div",null,r.default.createElement("span",{className:"mr12"},"\u603b\u8bb0\u5f55\u6570\uff1a",e),r.default.createElement("span",{className:"mr12"},"\u5f53\u524d\u9875\uff1a",t),r.default.createElement("span",{className:"mr12"},"\u603b\u9875\u6570\uff1a",Math.ceil(e/30)))},t.getAvatar=function(e){return"".concat(u,"users/getAuthUserImage/").concat(e,"?authorization=").concat(o.default.get("token"))},t.authTimeout=function(){o.default.clear(),window.location.href=a.default.HOST};var r=l(n(1)),o=l(n(52)),a=l(n(114));function l(e){return e&&e.__esModule?e:{default:e}}var u=a.default.BASE_URL}},[[270,25,24]]]);
//# sourceMappingURL=main.0b94fd72.chunk.js.map
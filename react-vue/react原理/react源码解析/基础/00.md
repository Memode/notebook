
## 基础部分

- React API
- ReactElement
- React Children
- React 中的数据结构

### 1、React API

    const React = {
        Children: {
            map,
            forEach,
            count,
            toArray,
            only,
        },
        // 新的ref用法，React即将抛弃<div ref="myDiv" />这种string ref的用法，将来你只能使用两种方式来使用ref
        createRef,
        // 
        Component,
        PureComponent,

        createContext,
        // forwardRef是用来解决HOC组件传递ref的问题的
        forwardRef,
        // 
        Fragment: REACT_FRAGMENT_TYPE,
        StrictMode: REACT_STRICT_MODE_TYPE,
        unstable_AsyncMode: REACT_ASYNC_MODE_TYPE,
        unstable_Profiler: REACT_PROFILER_TYPE,

        createElement: __DEV__ ? createElementWithValidation : createElement,
        cloneElement: __DEV__ ? cloneElementWithValidation : cloneElement,
        createFactory: __DEV__ ? createFactoryWithValidation : createFactory,
        isValidElement: isValidElement,

        version: ReactVersion,

        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED: ReactSharedInternals,
    };


### 2、ReactElement

    // ReactElement通过createElement创建，调用该方法需要传入三个参数
    export function createElement(type, config, children) {
        // 处理参数

        return ReactElement(
            // type指代这个ReactElement的类型
            type,
            key,
            ref,
            self,
            source,
            ReactCurrentOwner.current,
            props,
        );
    }

    const ReactElement = function(type, key, ref, self, source, owner, props) {
        const element = {
            // This tag allows us to uniquely identify this as a React Element
            // 确定是否属于ReactElement
            $$typeof: REACT_ELEMENT_TYPE,

            // Built-in properties that belong on the element
            // type类型，用于判断如何创建节点
            type: type,
            // 特殊信息
            key: key,
            ref: ref,
            // 新的属性内容
            props: props,

            // Record the component responsible for creating this element.
            _owner: owner,
        };

        return element
    }


### 3、React Children

主要是children.map的实现，有一个pool的应用和对gc的性能考虑

### 4、React中的数据结构（这是些什么鬼）

- FiberRoot
- Fiber
- effectTags
- ReactWorkTag
- sideEffects
- Update & UpdateQueue



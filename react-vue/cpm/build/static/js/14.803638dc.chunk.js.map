{"version":3,"sources":["components/modals/rdmmodal.js"],"names":["__webpack_require__","_antd","_reactRedux","_employeeModalReducer","CDModal","connect","state","selectedStaffList","staffReducer","currentDept","deptReducer","activePerson","toggleModalState","props","_this","_classCallCheck","this","_getPrototypeOf","call","handleOk","bind","_assertThisInitialized","handleCancel","React","Component","console","log","deleteStaff","userId","departmentId","deptId","_this2","http","delete","then","res","status","message","success","_react2","default","createElement","Modal","width","visible","title","centered","onCancel","footer","Button","key","onClick","type"],"mappings":"kJACA,QAAAA,EAAA,IACAC,EAAAD,EAAA,KACAE,EAAAF,EAAA,QACAA,EAAA,KACAG,EAAAH,EAAA,kyBAWMI,GAVL,EAAAF,EAAAG,SACG,SAAAC,GACI,MAAM,CACFC,kBAAkBD,EAAME,aAAaD,kBACrCE,YAAYH,EAAMI,YAAYD,YAC9BE,aAAaL,EAAME,aAAaG,eAGxC,CAACC,oDAGD,SAAAR,EAAYS,GAAM,IAAAC,MAAA,mGAAAC,CAAAC,KAAAZ,KACdY,MAAAF,MAAAG,EAAAb,GAAAc,KAAAF,KAAMH,oDACDM,SAASL,EAAKK,SAASC,KAAdC,IAAAP,KACdA,EAAKQ,aAAaR,EAAKQ,aAAaF,KAAlBC,IAAAP,KAHJA,yPADAS,UAAMC,oDAOpBC,QAAQC,IAAIV,KAAKH,OACjBG,KAAKW,YAAYX,KAAKH,MAAMF,aAAaiB,OAAOZ,KAAKH,MAAMJ,YAAYoB,kDAE/DD,EAAOE,GAAO,IAAAC,EAAAf,KACtBgB,UAAKC,OAAO,6BAA6B,CAACL,EAAOE,IAASI,KAAK,SAAAC,GACxDA,GAAoB,MAAbA,EAAIC,SACVC,UAAQC,QAAQ,kCAChBP,EAAKlB,MAAMD,iBAAiB,WAAU,2FAQ/CI,KAAKH,MAAMD,iBAAiB,WAAU,oCAGrC,OACI2B,EAAAC,QAAAC,cAACxC,EAAAyC,MAAD,CACIC,MAAO,IACPC,SAAS,EACTC,MAAM,uCAASC,UAAQ,EACvBC,SAAU/B,KAAKM,aACf0B,OAAQ,CACJT,EAAAC,QAAAC,cAACxC,EAAAgD,OAAD,CAAQC,IAAI,IAAKC,QAASnC,KAAKM,cAA/B,gBACAiB,EAAAC,QAAAC,cAACxC,EAAAgD,OAAD,CAASC,IAAI,IAAIE,KAAK,UAAWD,QAASnC,KAAKG,UAA/C,kBAPR,4FAgBGf","file":"static/js/14.803638dc.chunk.js","sourcesContent":["//删除员工(删除只能删除单个员工，智障一样的需求)\r\nimport React from 'react'\r\nimport {Modal,Button,message} from 'antd'\r\nimport {connect} from 'react-redux'\r\nimport http from 'libs/http'\r\nimport {toggleModalState} from 'store/employeeModalReducer'\r\n@connect(\r\n    state=>{\r\n        return{\r\n            selectedStaffList:state.staffReducer.selectedStaffList,\r\n            currentDept:state.deptReducer.currentDept,\r\n            activePerson:state.staffReducer.activePerson,\r\n        }\r\n    },\r\n    {toggleModalState}\r\n)\r\nclass CDModal extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.handleOk=this.handleOk.bind(this)\r\n        this.handleCancel=this.handleCancel.bind(this)\r\n    }\r\n    handleOk(){\r\n        console.log(this.props)\r\n        this.deleteStaff(this.props.activePerson.userId,this.props.currentDept.departmentId)\r\n    }\r\n    deleteStaff(userId,deptId){\r\n        http.delete('enterprise/delete/employee',[userId,deptId]).then(res=>{\r\n            if(res && res.status===200){\r\n                message.success('删除成功！')\r\n                this.props.toggleModalState('DEFAULT',false)\r\n            }\r\n        })\r\n    }\r\n    componentDidUpdate(){\r\n        \r\n    }\r\n    handleCancel(){\r\n       this.props.toggleModalState('DEFAULT',false)\r\n    }\r\n    render(){\r\n        return (\r\n            <Modal\r\n                width={300}\r\n                visible={true}\r\n                title=\"移除部门主管\" centered\r\n                onCancel={this.handleCancel}\r\n                footer={[\r\n                    <Button key='1'  onClick={this.handleCancel}>取消</Button>,\r\n                    <Button  key='2' type=\"primary\"  onClick={this.handleOk}>确认</Button>,\r\n                ]}\r\n                >\r\n                确定要移除吗?\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CDModal"],"sourceRoot":""}
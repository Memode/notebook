{"version":3,"sources":["components/personal/personal.js"],"names":["_react","__webpack_require__","_antd","_common","_reactRedux","_employeeModalReducer","_staffReducer","_react2","default","createElement","className","Personal","connect","state","activePerson","staffReducer","togglePersonal","toggleModalState","props","_this","_classCallCheck","this","_getPrototypeOf","call","handleClose","bind","_assertThisInitialized","React","Component","userRoleInfos","_toConsumableArray","departments","belongDept","Object","assign","map","d","i","roleName","key","deptName","name","_ref","_ref2","onClick","Icon","type","style","color","fontSize","size","Card","bodyStyle","maxHeight","overflow","headStyle","textAlign","background","title","width","_ref3","Avatar","src","getAvatar","cloudUserId","_ref4","_ref5","gender","_ref6","mobile","_ref7","email","length","marginTop","_ref8","_ref9"],"mappings":"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","file":"static/js/0.2935e6a3.chunk.js","sourcesContent":["//个人信息\r\nimport React from 'react'\r\nimport {Card,Avatar,Icon} from 'antd'\r\nimport './personal.scss'\r\nimport {getAvatar} from 'libs/common'\r\nimport {connect} from 'react-redux'\r\nimport {toggleModalState} from 'store/employeeModalReducer'\r\nimport {togglePersonal} from 'store/staffReducer'\r\n@connect(\r\n    state=>{\r\n        return{\r\n            activePerson:state.staffReducer.activePerson,\r\n        }\r\n    },\r\n    {togglePersonal,toggleModalState}\r\n)\r\nclass Personal extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.handleClose=this.handleClose.bind(this)\r\n    }\r\n    handleClose(){\r\n        //清空activePerson\r\n        this.props.togglePersonal(false)\r\n        this.props.toggleModalState('DEFAULT',false)\r\n    }\r\n    render(){\r\n        //返回所在部门\r\n        const userRoleInfos=[...this.props.activePerson.userRoleInfos]\r\n        const departments=[...this.props.activePerson.departments]\r\n        const deptWithRole=Object.assign(departments,userRoleInfos)\r\n        const belongDept=deptWithRole.map((d,i)=>{\r\n            return d.roleName?(d.roleName!=='ENTERPRISE_MANAGER'?<li key={i}><span>{d.deptName}</span><span>{d.roleName==='DEPT_DIRECTOR'?'部门主管':'部门管理员'}</span></li>:null):\r\n            (<li key={i}><span>{d.name}</span><span>员工</span></li>)\r\n            \r\n        })\r\n        return(\r\n            <div>\r\n                <div className=\"ant-modal-mask\"></div>\r\n                <div className=\"ant-modal-wrap\">\r\n                    <div className=\"card-wrapper\">\r\n                        <div  className=\"close-wrapper cp\" onClick={this.handleClose}>\r\n                            <Icon type=\"close-circle\" style={{color:'#ffffff',fontSize:'24px'}} size=\"large\" />\r\n                        </div>\r\n                        <Card bodyStyle={{maxHeight:'500px',overflow:'auto'}} headStyle={{textAlign:'center',background:'#EDEFF1'}} title=\"个人信息\" style={{ width: 400 }}>\r\n                            <ul className=\"personal-card\">\r\n                                <li>\r\n                                    <span>头像</span><Avatar src={getAvatar(this.props.activePerson.cloudUserId)}></Avatar>\r\n                                </li>\r\n                                <li>\r\n                                    <span>姓名</span><span>{this.props.activePerson.name}</span>\r\n                                </li>\r\n                                <li>\r\n                                    <span>性别</span><span>{this.props.activePerson.gender}</span>\r\n                                </li>\r\n                                <li>\r\n                                    <span>手机号</span><span>{this.props.activePerson.mobile || '未绑定'}</span>\r\n                                </li>\r\n                                <li>\r\n                                    <span>邮箱</span><span>{this.props.activePerson.email || '未绑定'}</span>\r\n                                </li>\r\n                                {departments && departments.length>0?<li style={{color:'#999',marginTop:'10px'}}><span>所在部门</span><span></span></li>:null}\r\n                                {belongDept}\r\n                                {/* {this.props.activePerson.userRoleInfos.length>0?this.props.activePerson.userRoleInfos.map((d,i)=>{\r\n                                    return d.roleName==='ENTERPRISE_MANAGER'?null:<li key={i}><span>{d.deptName}</span><span>{d.roleName==='DEPT_DIRECTOR'?'部门主管':'员工'}</span></li>\r\n                                }):null} */}\r\n                            </ul>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Personal"],"sourceRoot":""}